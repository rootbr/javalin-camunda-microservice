(function(t){function e(e){for(var o,r,c=e[0],i=e[1],l=e[2],d=0,p=[];d<c.length;d++)r=c[d],a[r]&&p.push(a[r][0]),a[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},a={app:0},s=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=n("b408"),s=n.n(a),r=n("ee98"),c=n.n(r),i=n("589d"),l=n.n(i),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("notifications",{attrs:{group:"events",position:"bottom right","animation-type":"velocity",speed:500}}),n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("view")]),t._v(" |\n    "),n("router-link",{attrs:{to:"/edit"}},[t._v("edit")])],1),n("router-view")],1)},d=[],p=n("2877"),f={},m=Object(p["a"])(f,u,d,!1,null,null,null),h=m.exports,b=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Bpmn"),n("Table")],1)},g=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"container"})},y=[],w=(n("ac6a"),n("88eb")),O=n("2f62"),E={name:"Bpmn",data:function(){return{url:"http://localhost:8080/api",readyImportDoneBpmn:!1,diagramXML:null,activities:null}},mounted:function(){var t=this,e=this.$refs.container;this.bpmnViewer=new w["a"]({container:e});var n=this.bpmnViewer,o=this.fetchDiagram;n.on("import.done",function(e){var o=e.error,a=e.warnings;o?t.$emit("error",o):t.$emit("shown",a),n.get("canvas").zoom("fit-viewport"),t.readyImportDoneBpmn=!0}),o()},beforeDestroy:function(){this.bpmnViewer.destroy()},watch:{url:function(){this.$emit("loading"),this.fetchDiagram()},diagramXML:function(t){this.bpmnViewer.importXML(t)},data:function(t,e){this.readyImportDoneBpmn&&this.update(t,e)},readyImportDoneBpmn:function(t){t&&this.update(this.data,null)}},methods:{fetchDiagram:function(){var t=this;fetch("".concat(this.url,"/process")).then(function(t){return t.text()}).then(function(e){return t.diagramXML=e}).catch(function(e){return t.$emit("error",e)})},update:function(t,e){var n=this.bpmnViewer.get("overlays");e&&e.activities.forEach(function(t){return n.remove({element:t.id})}),t&&t.activities.forEach(function(t){var e="",o="",a="";t.instances>0&&(e='<span class="badge badge-pill badge-success">'.concat(t.instances,"</span>")),t.canceled>0&&(o='<span class="badge badge-pill badge-danger">'.concat(t.canceled,"</span>")),t.finished>0&&(a='<span class="badge badge-pill badge-dark">'.concat(t.finished,"</span>")),n.add(t.id,{position:{top:-5,left:15},html:'<div class="d-flex p-2 bd-highlight">'.concat(e).concat(o).concat(a,"</div>")})})}},computed:Object(O["b"])(["data"])},T=E,C=(n("9074"),Object(p["a"])(T,_,y,!1,null,null,null)),k=C.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Table"}},[n("vue-bootstrap4-table",{attrs:{rows:t.rows,columns:t.columns,config:t.config,classes:t.classes,actions:t.actions},on:{"on-select-row":t.onSelectRow,"on-back":t.onBack}},[n("template",{slot:"sort-asc-icon"},[n("i",{staticClass:"fas fa-sort-amount-down"})]),n("template",{slot:"sort-desc-icon"},[n("i",{staticClass:"fas fa-sort-amount-up"})]),n("template",{slot:"no-sort-icon"},[n("i",{staticClass:"fas fa-sort"})])],2)],1)},S=[],P=n("12f9"),j={name:"Table",data:function(){return{selectedProcessId:null,rows:[],columns:[],classes:{table:{"table table-sm":!0}},actions:[{btn_text:"back",event_name:"on-back",class:"btn btn-danger"}],config:{card_mode:!1,show_refresh_button:!1,show_reset_button:!1,pagination:!1,pagination_info:!1,rows_selectable:!0,global_search:{placeholder:"search text",visibility:!0,case_sensitive:!1,showClearButton:!0},server_mode:!1}}},methods:{onBack:function(){this.selectedProcessId=null,this.$socket.sendObj({selectedProcessId:this.selectedProcessId})},onSelectRow:function(t){this.selectedProcessId=t.selected_item.id,this.$socket.sendObj({selectedProcessId:this.selectedProcessId})},update:function(t){var e=JSON.parse(t);"ACTIVITY_INSTANCE_UPDATE"===e.type&&(this.columns=e.payload.columns,this.rows=e.payload.rows)}},watch:{selectedProcessId:function(t){this.config.rows_selectable=!t}},components:{VueBootstrap4Table:P["a"]},created:function(){var t=this;this.$options.sockets.onmessage=function(e){return t.update(e.data)}},mounted:function(){this.columns=this.data.columns,this.rows=this.data.rows},computed:Object(O["b"])(["data"])},N=j,$=(n("d143"),Object(p["a"])(N,I,S,!1,null,null,null)),x=$.exports,D={name:"Home",components:{Table:x,Bpmn:k},data:function(){return{}},methods:{}},R=D,A=Object(p["a"])(R,v,g,!1,null,null,null),B=A.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Edit"},[t._v("\n  not realized yet\n")])},V=[],K={name:"Edit",components:{},data:function(){return{}}},L=K,X=Object(p["a"])(L,M,V,!1,null,null,null),J=X.exports;o["default"].use(b["a"]);var U=new b["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:B},{path:"/edit",name:"edit",component:J}]});o["default"].use(O["a"]);var z=new O["a"].Store({state:{processId:null,url:"http://localhost:8080/api",data:null,socket:{isConnected:!1,message:"",reconnectError:!1}},mutations:{updateProcessId:function(t,e){t.socket.processId=e},updateData:function(t,e){t.socket.data=e},SOCKET_ONOPEN:function(t,e){o["default"].prototype.$socket=e.currentTarget,t.socket.isConnected=!0},SOCKET_ONCLOSE:function(t){t.socket.isConnected=!1},SOCKET_ONERROR:function(t,e){console.error(t,e)},SOCKET_ONMESSAGE:function(t,e){t.socket.message=e,"ACTIVITY_INSTANCE_UPDATE"===e.type?t.data=e.payload:"TASK_INSTANCE_UPDATE"!==e.type&&"ERROR"!==e.type||o["default"].notify({group:"events",title:e.payload.message,type:e.payload.type,duration:5e3,speed:1e3})},SOCKET_RECONNECT:function(t,e){console.info(t,e)},SOCKET_RECONNECT_ERROR:function(t){t.socket.reconnectError=!0}},actions:{sendMessage:function(t,e){o["default"].prototype.$socket.send(e)}}});o["default"].config.productionTip=!1,o["default"].use(s.a,"ws://localhost:8080/events",{store:z,format:"json",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),o["default"].use(c.a,{velocity:l.a}),new o["default"]({router:U,store:z,render:function(t){return t(h)}}).$mount("#app")},6504:function(t,e,n){},"858e":function(t,e,n){},9074:function(t,e,n){"use strict";var o=n("6504"),a=n.n(o);a.a},d143:function(t,e,n){"use strict";var o=n("858e"),a=n.n(o);a.a}});
//# sourceMappingURL=app.524a635e.js.map